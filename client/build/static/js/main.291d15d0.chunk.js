(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,a,t){e.exports=t.p+"static/media/mail-ico.11158be3.svg"},140:function(e,a,t){e.exports=t.p+"static/media/lock-ico.deb1da2e.svg"},169:function(e,a,t){e.exports=t.p+"static/media/user-ico.38deea0c.svg"},170:function(e,a,t){e.exports=t.p+"static/media/reg-bg.de1feec2.svg"},171:function(e,a,t){e.exports=t.p+"static/media/reg-img.68e0f972.svg"},172:function(e,a,t){e.exports=t.p+"static/media/login-bg.b7118626.svg"},173:function(e,a,t){e.exports=t.p+"static/media/login-img.3c8beb57.svg"},178:function(e,a,t){e.exports=t(192)},185:function(e,a,t){},192:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(155),r=t.n(c),s=(t(185),t(15)),m=t(203),o=t(208),i=t(121),d=t(202),u=t(206),E=t(205),g=t(174),p=t(209),v=t(210),b=t(211),y=t(212),N=t(78);var f=()=>{const[e,a]=Object(n.useState)(""),t=Object(s.o)();Object(n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user"));e&&a(e)},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-body-tertiary"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},l.a.createElement("div",{className:"nav-logo"}),l.a.createElement("div",{className:"brand-name"},l.a.createElement(N.b,{className:"navbar-brand",to:"/home"},l.a.createElement("p",null,"Expense"),l.a.createElement("br",null),l.a.createElement("p",null,"Tracker"))),l.a.createElement("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0"},l.a.createElement("li",{className:"nav-item"}," ",l.a.createElement("p",{className:"nav-link"},e&&e.name)," "),l.a.createElement("li",{className:"nav-logout"},l.a.createElement(N.b,{className:"nav-link active","aria-current":"page",to:"/login"},l.a.createElement("button",{type:"button",class:"btn btn-light",onClick:()=>{localStorage.removeItem("user"),o.a.success("Logout Successfully"),t("/login")}},l.a.createElement("div",{className:"logout-text"},"Logout")))))))))};var h=()=>l.a.createElement("div",{className:"bg-dark text-light p-4"},l.a.createElement("h6",{className:"text-center"},"All rights reserved \xa9 Shreyansh"));var x=e=>{let{children:a}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,null),l.a.createElement("div",{className:"content"},a),l.a.createElement(h,null))},O=t(204);var I=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("div",{className:"spinner-border",role:"status"},l.a.createElement("span",{className:"visually-hidden"},"Loading...")))),S=t(158),k=t.n(S),T=t(207);var w=e=>{let{allTransaction:a}=e;const t=["salary","tip","project","food","movie","bills","medical","fee","tax"],n=a.length,c=a.filter(e=>"income"===e.type),r=a.filter(e=>"expense"===e.type),s=c.length/n*100,m=r.length/n*100,o=a.reduce((e,a)=>e+a.amount,0),i=a.filter(e=>"income"===e.type).reduce((e,a)=>e+a.amount,0),d=a.filter(e=>"expense"===e.type).reduce((e,a)=>e+a.amount,0),u=i/o*100,E=d/o*100;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row m-3"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Total Transactions : ",n),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"text-success"},"Income : ",c.length),l.a.createElement("h5",{className:"text-danger"},"Expense : ",r.length),l.a.createElement("div",null,l.a.createElement(T.a,{type:"circle",strokeColor:"green",className:"mx-2",percent:s.toFixed(0)}),l.a.createElement(T.a,{type:"circle",strokeColor:"red",className:"mx-2",percent:m.toFixed(0)}))))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Total TurnOver : ",o),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"text-success"},"Income : ",i),l.a.createElement("h5",{className:"text-danger"},"Expense : ",d),l.a.createElement("div",null,l.a.createElement(T.a,{type:"circle",strokeColor:"green",className:"mx-2",percent:u.toFixed(0)}),l.a.createElement(T.a,{type:"circle",strokeColor:"red",className:"mx-2",percent:E.toFixed(0)})))))),l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h4",null,"Categorywise Income"),t.map((e,t)=>{const n=a.filter(a=>"income"===a.type&&a.category===e).reduce((e,a)=>e+a.amount,0);return n>0&&l.a.createElement("div",{key:t,className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",null,e),l.a.createElement(T.a,{percent:(n/i*100).toFixed(0)})))})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h4",null,"Categorywise Expense"),t.map((e,t)=>{const n=a.filter(a=>"expense"===a.type&&a.category===e).reduce((e,a)=>e+a.amount,0);return n>0&&l.a.createElement("div",{key:t,className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",null,e),l.a.createElement(T.a,{percent:(n/d*100).toFixed(0)})))}))))};const{RangePicker:F}=m.a;var j=()=>{const[e,a]=Object(n.useState)(!1),[t,c]=Object(n.useState)(!1),[r,s]=Object(n.useState)([]),[m,N]=Object(n.useState)("7"),[f,h]=Object(n.useState)([]),[S,T]=Object(n.useState)("all"),[j,C]=Object(n.useState)("table"),[D,A]=Object(n.useState)(null),L=[{title:"Date",dataIndex:"date",render:e=>l.a.createElement("span",null,k()(e).format("YYYY-MM-DD")),key:"date"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Type",dataIndex:"type",key:"type"},{title:"Category",dataIndex:"category",key:"category"},{title:"Refrence",dataIndex:"refrence",key:"refrence"},{title:"Actions",render:(e,t)=>l.a.createElement("div",{key:t._id},l.a.createElement(p.a,{onClick:()=>{A(t),a(!0)}}),l.a.createElement(v.a,{className:"mx-2",onClick:()=>{P(t)}})),key:"actions"}];Object(n.useEffect)(()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("user"));c(!0);const a=await O.a.post("/api/v1/Transactions/get-Transaction",{userid:e._id,frequency:m,selectedDate:f,type:S});c(!1),s(a.data),console.log(a.data)}catch(e){console.log(e),o.a.error("Fetch Issue With Transaction")}})()},[m,f,S]);const P=async e=>{try{c(!0),await O.a.post("/api/v1/Transactions/delete-Transaction",{transacationId:e._id}),c(!1),o.a.success("Transaction Deleted!")}catch(a){c(!1),console.log(a),o.a.error("Unable to delete")}};return l.a.createElement(x,null,t&&l.a.createElement(I,null),l.a.createElement("div",{className:"filters"},l.a.createElement("div",null,l.a.createElement("h6",null,"Select Frequency"),l.a.createElement(i.a,{value:m,onChange:e=>N(e)},l.a.createElement(i.a.Option,{value:"7"},"LAST 1 Week"),l.a.createElement(i.a.Option,{value:"30"},"LAST 1 Month"),l.a.createElement(i.a.Option,{value:"365"},"LAST 1 Year"),l.a.createElement(i.a.Option,{value:"custom"},"Custom")),"custom"===m&&l.a.createElement(F,{value:f,onChange:e=>h(e)})),l.a.createElement("div",null,l.a.createElement("h6",null,"Select Type"),l.a.createElement(i.a,{value:S,onChange:e=>T(e)},l.a.createElement(i.a.Option,{value:"all"},"ALL"),l.a.createElement(i.a.Option,{value:"income"},"INCOME"),l.a.createElement(i.a.Option,{value:"expense"},"EXPENSE"))),l.a.createElement("div",{className:"switch-icons"},l.a.createElement(b.a,{className:"mx-2 ".concat("table"===j?"active-icon":"inactive-icon"),onClick:()=>C("table")}),l.a.createElement(y.a,{className:"mx-2 ".concat("analytics"===j?"active-icon":"inactive-icon"),onClick:()=>C("analytics")})),l.a.createElement("div",null,l.a.createElement("button",{className:"drk-btn",onClick:()=>a(!0)},"Add New"))),l.a.createElement("div",{className:"content"},"table"===j?l.a.createElement(d.a,{columns:L,dataSource:r.map(e=>({...e,key:e._id}))}):l.a.createElement(w,{allTransaction:r})),l.a.createElement(u.a,{title:D?"Edit Transaction":"Add Transaction",open:e,onCancel:()=>a(!1),footer:!1},l.a.createElement(E.a,{layout:"vertical",onFinish:async e=>{try{const t=JSON.parse(localStorage.getItem("user"));c(!0),D?(await O.a.post("/api/v1/Transactions/edit-Transaction",{payload:{...e,userId:t._id},transacationId:D._id}),c(!1),o.a.success("Transaction Updated Successfully")):(await O.a.post("/api/v1/Transactions/add-Transaction",{...e,userid:t._id}),c(!1),o.a.success("Transaction Added Successfully")),a(!1),A(null)}catch(t){c(!1),o.a.error("Failed to add Transaction")}},initialValues:D},l.a.createElement(E.a.Item,{label:"Amount",name:"amount"},l.a.createElement(g.a,{type:"text"})),l.a.createElement(E.a.Item,{label:"Type",name:"type"},l.a.createElement(i.a,null,l.a.createElement(i.a.Option,{value:"income"},"Income"),l.a.createElement(i.a.Option,{value:"expense"},"Expense"))),l.a.createElement(E.a.Item,{label:"Category",name:"category"},l.a.createElement(i.a,null,l.a.createElement(i.a.Option,{value:"salary"},"Salary"),l.a.createElement(i.a.Option,{value:"tip"},"Tip"),l.a.createElement(i.a.Option,{value:"project"},"Project"),l.a.createElement(i.a.Option,{value:"food"},"Food"),l.a.createElement(i.a.Option,{value:"movie"},"Movie"),l.a.createElement(i.a.Option,{value:"bills"},"Bills"),l.a.createElement(i.a.Option,{value:"medical"},"Medical"),l.a.createElement(i.a.Option,{value:"fee"},"Fee"),l.a.createElement(i.a.Option,{value:"tax"},"Tax"))),l.a.createElement(E.a.Item,{label:"Date",name:"date"},l.a.createElement(g.a,{type:"date"})),l.a.createElement(E.a.Item,{label:"Refrence",name:"refrence"},l.a.createElement(g.a,{type:"text"})),l.a.createElement(E.a.Item,{label:"Description",name:"description"},l.a.createElement(g.a,{type:"text"})),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("button",{type:"submit",className:"drk-btn btn-primary"},"SAVE")))))},C=t(169),D=t.n(C),A=t(139),L=t.n(A),P=t(140),M=t.n(P),R=t(170),_=t.n(R),J=t(171),Y=t.n(J);var B=function(){const e=Object(s.o)(),[a,t]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{localStorage.getItem("user")&&e("/")},[e]),l.a.createElement("div",{className:"login-container"},a&&l.a.createElement(I,null),l.a.createElement("div",{className:"login-right"},l.a.createElement("div",{className:"right-content"},l.a.createElement("img",{src:Y.a,alt:"foreground",className:"fg-image"}))),l.a.createElement("div",{className:"login-left",style:{backgroundImage:"url(".concat(_.a,")"),backgroundSize:"cover",backgroundPosition:"center"}},l.a.createElement("div",{className:"reg-form"},l.a.createElement("h1",null,"Register"),l.a.createElement("p",{className:"register-text"},"Already have an account? ",l.a.createElement(N.b,{to:"/login"},"Login here")),l.a.createElement(E.a,{onFinish:async a=>{try{t(!0),await O.a.post("/api/v1/users/register",a),o.a.success("reg successful"),t(!1),e("/login")}catch(n){t(!1),o.a.error("error occured daa")}}},l.a.createElement(E.a.Item,{name:"name"},l.a.createElement(g.a,{prefix:l.a.createElement("img",{src:D.a,alt:"user icon"}),placeholder:"Name"})),l.a.createElement(E.a.Item,{name:"email"},l.a.createElement(g.a,{prefix:l.a.createElement("img",{src:L.a,alt:"email icon"}),placeholder:"E-mail ID"})),l.a.createElement(E.a.Item,{name:"password"},l.a.createElement(g.a.Password,{prefix:l.a.createElement("img",{src:M.a,alt:"password icon"}),placeholder:"Password"})),l.a.createElement(E.a.Item,null,l.a.createElement("button",{type:"primary",className:"reg-button"},"Register"))),l.a.createElement("div",{className:"white-line"}))))},q=t(172),U=t.n(q),V=t(173),W=t.n(V);var z=function(){const[e,a]=Object(n.useState)(!1),t=Object(s.o)();return Object(n.useEffect)(()=>{localStorage.getItem("user")&&t("/")},[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"login-container"},e&&l.a.createElement(I,null),l.a.createElement("div",{className:"login-left"},l.a.createElement("div",{className:"login-form"},l.a.createElement("h1",null,"LOGIN"),l.a.createElement("p",{className:"register-text"},"Don't have an account yet? ",l.a.createElement(N.b,{to:"/register"},"Register here")),l.a.createElement(E.a,{onFinish:async e=>{try{a(!0);const{data:n}=await O.a.post("/api/v1/users/login",e);a(!1),o.a.success("login success"),localStorage.setItem("user",JSON.stringify({...n.user,password:""})),t("/")}catch(n){a(!1),o.a.error("something wrong")}}},l.a.createElement(E.a.Item,{name:"email"},l.a.createElement(g.a,{prefix:l.a.createElement("img",{src:L.a,alt:"user icon"}),placeholder:"Email ID"})),l.a.createElement(E.a.Item,{name:"password"},l.a.createElement(g.a.Password,{prefix:l.a.createElement("img",{src:M.a,alt:"password icon"}),placeholder:"Password"})),l.a.createElement(E.a.Item,null,l.a.createElement("button",{type:"primary",className:"login-button"},"Login Now"))),l.a.createElement("div",{className:"purple-line"}))),l.a.createElement("div",{className:"login-right"},l.a.createElement("div",{className:"right-content"},l.a.createElement("img",{src:U.a,alt:"background",className:"bg-image"}),l.a.createElement("img",{src:W.a,alt:"foreground",className:"fg-image"})))))};function G(e){return localStorage.getItem("user")?e.children:l.a.createElement("navigate",{to:"/login"})}var X=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",element:l.a.createElement(G,null,l.a.createElement(j,null)," ")}),l.a.createElement(s.a,{path:"/register",element:l.a.createElement(B,null)}),l.a.createElement(s.a,{path:"/login",element:l.a.createElement(z,null)})))};var H=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,213)).then(a=>{let{getCLS:t,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=a;t(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N.a,null,l.a.createElement(X,null)))),H()}},[[178,1,2]]]);
//# sourceMappingURL=main.291d15d0.chunk.js.map